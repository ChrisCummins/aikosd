<script>

  $(document).ready(function() {
    var server = 'http://' + real_time_server.host + ':' +
      real_time_server.port;
    var socket = io.connect(server);

    socket.on('connect', function() {
      $('#socketio').html('<span class="label label-success">' +
                          'connected</label>');
      socket.emit('join', { id: user_id });
    });

    socket.on('disconnect', function() {
      $('#socketio').html('<span class="label label-danger">' +
                          'disconnected</label>');
    });

    socket.on('messages', function(messages) {
      $('#messages').html(watch.messages(messages));
    });

    function Watch() {
      var self=this;
      self.name = ko.observable();
      self.messages = ko.observableArray();
    };

    var watch = new Watch();
    ko.applyBindings(watch);
  });

</script>

<div class="page-header">
  <div class="row">
    <div class="col-lg-12">
      <h1>Control Panel</h1>
      <p class="lead">Intrusion Detection System for Linux filesystems</p>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">
    <ol data-bind="foreach: messages">
      <li>
        <strong>
          <span data-bind="text: path"></span>
        </strong>
        <strong>
          <span data-bind="text: type"></span>
        </strong>
        <span>
          <span data-bind="text: message"></span>
        </span>
      </li>
    </ol>
  </div>
</div>
